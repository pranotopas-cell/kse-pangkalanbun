<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PT Khatulistiwa Sinar Energi | Corporate Portal</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; letter-spacing: -0.01em; }
        .section { display: none; opacity: 0; transform: translateY(10px); transition: all 0.4s ease; }
        .section.active { display: block; opacity: 1; transform: translateY(0); }
        .glass-nav { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); }
        
        /* Dropdown Logic */
        .dropdown:hover .dropdown-menu { display: block; opacity: 1; transform: translateY(0); }
        .dropdown-menu { 
            display: none; 
            opacity: 0; 
            transform: translateY(10px); 
            transition: all 0.3s ease; 
        }
    </style>
</head>
<body class="bg-[#F8FAFC] text-[#1E293B]">

    <nav class="sticky top-0 z-[100] glass-nav border-b border-slate-200">
        <div class="container mx-auto px-8 py-5 flex justify-between items-center">
            <div class="flex items-center space-x-4 cursor-pointer" onclick="showSection('home')">
                <div class="w-12 h-12 bg-[#064e3b] rounded-xl flex items-center justify-center font-extrabold text-white text-xl shadow-lg">KSE</div>
                <div>
                    <span class="text-2xl font-black tracking-tighter text-[#064e3b] uppercase block leading-none">PT KSE</span>
                    <span class="text-[10px] font-bold text-slate-400 tracking-[0.2em] uppercase">Energy Solutions</span>
                </div>
            </div>
            
            <div class="hidden md:flex items-center space-x-10 font-bold text-sm tracking-wide">
                <button onclick="showSection('home')" class="text-slate-500 hover:text-[#064e3b]">BERANDA</button>
                
                <div class="relative dropdown group">
                    <button class="text-slate-500 hover:text-[#064e3b] flex items-center gap-1 uppercase py-2">
                        Tentang Kami
                        <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="dropdown-menu absolute left-0 mt-0 w-56 bg-white border border-slate-100 shadow-2xl rounded-2xl overflow-hidden py-2 z-[110]">
                        <button onclick="showSection('profile')" class="block w-full text-left px-6 py-4 text-xs font-bold text-slate-600 hover:bg-emerald-50 hover:text-[#064e3b] transition-colors border-b border-slate-50">PROFIL PERUSAHAAN</button>
                        <button onclick="showSection('visi-misi')" class="block w-full text-left px-6 py-4 text-xs font-bold text-slate-600 hover:bg-emerald-50 hover:text-[#064e3b] transition-colors border-b border-slate-50">VISI & MISI</button>
                        <button onclick="showSection('legalitas')" class="block w-full text-left px-6 py-4 text-xs font-bold text-slate-600 hover:bg-emerald-50 hover:text-[#064e3b] transition-colors border-b border-slate-50">LEGALITAS</button>
                        <button onclick="showSection('armada')" class="block w-full text-left px-6 py-4 text-xs font-bold text-slate-600 hover:bg-emerald-50 hover:text-[#064e3b] transition-colors">DATA ARMADA</button>
                    </div>
                </div>

                <button onclick="showSection('harga-pertamina')" class="text-slate-500 hover:text-[#064e3b]">HARGA BBM</button>
                <button id="btn-login-view" onclick="showSection('login')" class="bg-[#064e3b] text-white px-8 py-3 rounded-full shadow-lg text-xs uppercase">Admin Portal</button>
                
                <div id="user-logged-in" class="hidden flex items-center space-x-4 border-l pl-8">
                    <button onclick="showSection('dashboard')" class="text-xs font-black text-emerald-700 uppercase">Dashboard</button>
                    <button onclick="handleLogout()" class="text-red-500 hover:bg-red-50 p-2 rounded-full transition">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M17 16l4-4m0 0l-4-4m4 4H7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-8 pb-20">
        <section id="home" class="section active py-20">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div>
                    <span class="inline-block px-4 py-2 bg-emerald-100 text-emerald-800 rounded-lg text-xs font-bold mb-6 italic uppercase">Distributor Resmi BBM Industri</span>
                    <h1 class="text-7xl font-extrabold text-slate-900 leading-[0.95] tracking-tighter mb-8 uppercase italic">Solusi Energi <br>Terpercaya.</h1>
                    <p class="text-lg text-slate-500 mb-10 max-w-md">Menyuplai kebutuhan bahan bakar industri Anda dengan ketepatan waktu dan kualitas yang terjamin.</p>
                    <button onclick="showSection('harga-pertamina')" class="bg-[#064e3b] text-white px-10 py-5 rounded-2xl font-bold shadow-2xl hover:scale-105 transition-transform uppercase text-sm tracking-widest">Cek Harga Hari Ini</button>
                </div>
                <div class="relative">
                    <div class="absolute -inset-4 bg-emerald-200/30 rounded-[4rem] blur-3xl"></div>
                    <img src="https://images.unsplash.com/photo-1611273233597-ed6731d22372?auto=format&fit=crop&w=1000&q=80" class="relative rounded-[3rem] shadow-2xl border-[12px] border-white h-[450px] w-full object-cover">
                </div>
            </div>
        </section>

        <section id="profile" class="section py-20">
            <div class="max-w-4xl mx-auto bg-white p-16 rounded-[4rem] shadow-sm border border-slate-100">
                <span class="text-emerald-600 font-black uppercase tracking-widest text-xs">Who We Are</span>
                <h2 class="text-5xl font-black text-slate-900 mt-4 mb-8 italic uppercase tracking-tighter">Profil Perusahaan</h2>
                <div class="prose prose-slate lg:prose-xl text-slate-600 leading-relaxed font-medium">
                    <p class="mb-6">PT Khatulistiwa Sinar Energi (KSE) didirikan sebagai respon atas kebutuhan energi industri yang semakin dinamis di Indonesia. Sebagai agen resmi distributor bahan bakar minyak industri, kami berfokus pada efisiensi distribusi dan integritas produk.</p>
                    <p>Kami melayani berbagai sektor mulai dari Manufaktur, Pertambangan, Perkebunan, hingga Konstruksi dengan jaringan armada yang mencakup wilayah strategis di Indonesia.</p>
                </div>
            </div>
        </section>

        <section id="visi-misi" class="section py-20">
            <div class="grid md:grid-cols-2 gap-10 max-w-5xl mx-auto">
                <div class="bg-[#064e3b] p-16 rounded-[4rem] text-white shadow-2xl">
                    <h3 class="text-4xl font-black mb-8 italic uppercase tracking-tighter">Visi Perusahaan</h3>
                    <p class="text-xl leading-relaxed text-emerald-100 font-light italic">"Menjadi pilar utama distribusi energi nasional yang unggul dalam transparansi, teknologi, dan pelayanan demi keberlangsungan industri Indonesia."</p>
                </div>
                <div class="bg-white p-16 rounded-[4rem] border border-slate-200 shadow-sm">
                    <h3 class="text-4xl font-black mb-8 italic uppercase tracking-tighter text-[#064e3b]">Misi Utama</h3>
                    <ul class="space-y-6">
                        <li class="flex items-start gap-4">
                            <span class="w-6 h-6 bg-emerald-100 text-emerald-700 rounded-full flex items-center justify-center text-xs font-bold mt-1">1</span>
                            <p class="text-slate-600 font-bold">Menjamin ketersediaan pasokan BBM tepat waktu dan tepat volume.</p>
                        </li>
                        <li class="flex items-start gap-4">
                            <span class="w-6 h-6 bg-emerald-100 text-emerald-700 rounded-full flex items-center justify-center text-xs font-bold mt-1">2</span>
                            <p class="text-slate-600 font-bold">Menerapkan sistem pelaporan digital yang transparan bagi mitra.</p>
                        </li>
                        <li class="flex items-start gap-4">
                            <span class="w-6 h-6 bg-emerald-100 text-emerald-700 rounded-full flex items-center justify-center text-xs font-bold mt-1">3</span>
                            <p class="text-slate-600 font-bold">Menjaga standar keamanan dan lingkungan dalam proses distribusi.</p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="legalitas" class="section py-20">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-black text-slate-900 uppercase italic tracking-tighter">Izin & Legalitas</h2>
                <p class="text-slate-400 mt-4 font-bold">Kepatuhan hukum adalah prioritas utama kami dalam beroperasi.</p>
            </div>
            <div class="grid md:grid-cols-4 gap-6">
                <div class="bg-white p-10 rounded-[2.5rem] border border-slate-100 text-center hover:border-emerald-500 transition-colors">
                    <div class="w-16 h-16 bg-slate-50 rounded-2xl mx-auto mb-6 flex items-center justify-center">
                        <svg class="w-8 h-8 text-emerald-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04 Pelaku Usaha"></path></svg>
                    </div>
                    <p class="font-black text-slate-900">NIB</p>
                    <p class="text-xs text-slate-400 mt-2 font-bold uppercase">Nomor Induk Berusaha</p>
                </div>
                <div class="bg-white p-10 rounded-[2.5rem] border border-slate-100 text-center hover:border-emerald-500 transition-colors">
                    <div class="w-16 h-16 bg-slate-50 rounded-2xl mx-auto mb-6 flex items-center justify-center text-emerald-700">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path></svg>
                    </div>
                    <p class="font-black text-slate-900">NPWP</p>
                    <p class="text-xs text-slate-400 mt-2 font-bold uppercase">Terdaftar Pajak Pusat</p>
                </div>
                <div class="bg-white p-10 rounded-[2.5rem] border border-slate-100 text-center hover:border-emerald-500 transition-colors">
                    <div class="w-16 h-16 bg-slate-50 rounded-2xl mx-auto mb-6 flex items-center justify-center text-emerald-700">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                    </div>
                    <p class="font-black text-slate-900">IU Niaga</p>
                    <p class="text-xs text-slate-400 mt-2 font-bold uppercase">Izin Usaha Niaga Umum</p>
                </div>
                <div class="bg-white p-10 rounded-[2.5rem] border border-slate-100 text-center hover:border-emerald-500 transition-colors">
                    <div class="w-16 h-16 bg-slate-50 rounded-2xl mx-auto mb-6 flex items-center justify-center text-emerald-700">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                    </div>
                    <p class="font-black text-slate-900">Sertifikat</p>
                    <p class="text-xs text-slate-400 mt-2 font-bold uppercase">Standard Mutu & HSE</p>
                </div>
            </div>
        </section>

        <section id="armada" class="section py-20">
            <h2 class="text-4xl font-black mb-12 uppercase italic tracking-tighter text-center">Unit Distribusi Armada</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-[3rem] overflow-hidden border border-slate-100 shadow-sm group">
                    <div class="h-48 bg-slate-100 flex items-center justify-center font-black text-slate-300 text-4xl group-hover:bg-[#064e3b] group-hover:text-white transition-all italic">5.000 L</div>
                    <div class="p-8">
                        <h4 class="font-black text-xl mb-2">Small Tanker Truck</h4>
                        <p class="text-slate-500 text-sm font-bold">Ideal untuk pengiriman wilayah perkotaan dan pabrik kecil.</p>
                    </div>
                </div>
                <div class="bg-white rounded-[3rem] overflow-hidden border border-slate-100 shadow-sm group">
                    <div class="h-48 bg-slate-100 flex items-center justify-center font-black text-slate-300 text-4xl group-hover:bg-[#064e3b] group-hover:text-white transition-all italic">16.000 L</div>
                    <div class="p-8">
                        <h4 class="font-black text-xl mb-2">Medium Tanker Truck</h4>
                        <p class="text-slate-500 text-sm font-bold">Pilihan utama untuk proyek konstruksi dan pertambangan.</p>
                    </div>
                </div>
                <div class="bg-white rounded-[3rem] overflow-hidden border border-slate-100 shadow-sm group">
                    <div class="h-48 bg-slate-100 flex items-center justify-center font-black text-slate-300 text-4xl group-hover:bg-[#064e3b] group-hover:text-white transition-all italic">VESSEL</div>
                    <div class="p-8">
                        <h4 class="font-black text-xl mb-2">Marine Fuel Supply</h4>
                        <p class="text-slate-500 text-sm font-bold">Kapal tanker khusus untuk pengisian bahan bakar di laut (bunkering).</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="harga-pertamina" class="section py-20">
            <h2 class="text-4xl font-black text-center text-slate-900 mb-12 italic uppercase tracking-tighter">Indeks Harga BBM Industri</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" id="harga-container"></div>
        </section>

        <section id="login" class="section py-20">
            <div class="max-w-md mx-auto bg-white p-12 rounded-[3rem] shadow-2xl text-center border border-slate-100">
                <h2 class="text-3xl font-black text-slate-900 mb-8 uppercase italic">Admin Access</h2>
                <div class="space-y-5 text-left">
                    <input type="email" id="email" class="w-full bg-slate-50 p-5 rounded-2xl outline-none font-bold" placeholder="Email Admin">
                    <input type="password" id="password" class="w-full bg-slate-50 p-5 rounded-2xl outline-none font-bold" placeholder="Password">
                    <button id="btn-do-login" onclick="handleLogin()" class="w-full bg-[#064e3b] text-white py-5 rounded-2xl font-black shadow-xl uppercase">Login Ke Portal</button>
                </div>
            </div>
        </section>

        <section id="admin-harga" class="section py-10">
            <div class="max-w-2xl mx-auto bg-white p-12 rounded-[3rem] shadow-2xl border border-slate-100">
                <h2 class="text-3xl font-black mb-10 uppercase italic tracking-tighter">Update Harga Wilayah</h2>
                <div class="grid grid-cols-2 gap-8">
                    <input type="number" id="input-w1" class="bg-slate-50 p-6 rounded-2xl font-black text-2xl" placeholder="Wilayah 1">
                    <input type="number" id="input-w2" class="bg-slate-50 p-6 rounded-2xl font-black text-2xl" placeholder="Wilayah 2">
                    <input type="number" id="input-w3" class="bg-slate-50 p-6 rounded-2xl font-black text-2xl" placeholder="Wilayah 3">
                    <input type="number" id="input-w4" class="bg-slate-50 p-6 rounded-2xl font-black text-2xl" placeholder="Wilayah 4">
                </div>
                <button onclick="saveHargaBaru()" class="w-full mt-10 bg-orange-600 text-white font-black py-6 rounded-2xl shadow-xl uppercase">Update Harga</button>
            </div>
        </section>

        <section id="dashboard" class="section py-10">
            <div class="flex justify-between items-end mb-10">
                <h2 class="text-5xl font-black text-slate-900 italic tracking-tighter uppercase leading-none">Arsip <br><span class="text-emerald-600">Dokumen</span></h2>
                <div class="bg-white p-6 rounded-[2.5rem] shadow-xl border border-slate-100 flex gap-4 items-end">
                    <input type="file" id="file-input" class="text-xs font-bold">
                    <select id="file-category" class="text-xs font-black bg-slate-50 p-3 rounded-xl outline-none">
                        <option value="po">po</option>
                        <option value="surat jalan">surat jalan</option>
                        <option value="invoice">invoice</option>
                        <option value="faktur pajak">faktur pajak</option>
                    </select>
                    <button onclick="uploadFile()" id="btn-upload" class="bg-[#064e3b] text-white px-8 py-3 rounded-xl font-black text-xs uppercase">Upload</button>
                </div>
            </div>
            <div class="bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden">
                <table class="w-full text-left">
                    <thead class="bg-slate-50 text-slate-400 text-[10px] font-black uppercase tracking-[0.2em]">
                        <tr><th class="px-10 py-6">Kategori</th><th class="px-10 py-6">Nama File</th><th class="px-10 py-6">Tanggal</th><th class="px-10 py-6 text-center">Aksi</th></tr>
                    </thead>
                    <tbody id="file-table-body" class="divide-y divide-slate-50"></tbody>
                </table>
            </div>
        </section>
    </main>

    <script>
        // -- NAVIGATION CORE --
        function showSection(id) {
            // Sembunyikan semua section
            document.querySelectorAll('.section').forEach(s => { 
                s.classList.remove('active'); 
                s.style.display = 'none'; 
            });
            
            // Tampilkan section yang dituju
            const target = document.getElementById(id);
            if (target) { 
                target.style.display = 'block'; 
                // Delay sedikit untuk memicu animasi CSS
                setTimeout(() => target.classList.add('active'), 50); 
            }
            
            // Scroll ke atas halaman
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Selebihnya adalah Fungsi Database (Firebase & Supabase) sama seperti kode Anda sebelumnya
        // (Tetap masukkan initHarga(), handleLogin(), dll agar fitur berfungsi)

        // -- INISIALISASI AWAL --
        window.addEventListener('DOMContentLoaded', () => {
            initHarga(); // Panggil data harga BBM
            // Cek session login jika ada
        });

        /* --- SCRIPT DATA (FIREBASE/SUPABASE) --- */
        // Masukkan kembali config & fungsi login/upload Anda di sini agar tidak hilang
        const SUPABASE_URL = "https://wrkmmeojhqpxchetaltl.supabase.co";
        const SUPABASE_KEY = "sb_publishable_HAdGJewkvKqOZ0cX7qPSZw_DjMDcATK";
        const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        const firebaseConfig = {
            apiKey: "AIzaSyDenqfuE7Sjy773lp3k7WYh_3RRSr3nojM",
            authDomain: "kse-harga-bbm-update.firebaseapp.com",
            projectId: "kse-harga-bbm-update",
            storageBucket: "kse-harga-bbm-update.firebasestorage.app",
            messagingSenderId: "764165984284",
            appId: "1:764165984284:web:a74aed43317539f5f1cfd9"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Fungsi Harga BBM
        let hargaSekarangGlobal = {};
        function initHarga() {
            const container = document.getElementById('harga-container');
            if(!container) return;
            container.innerHTML = "";
            for(let i=1; i<=4; i++) {
                container.innerHTML += `
                    <div id="cardwilayah${i}" class="bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center">
                        <h3 class="text-sm font-black text-slate-400 mb-2 uppercase italic tracking-widest">Wilayah ${i}</h3>
                        <p class="text-4xl font-black text-[#064e3b] mb-4 tracking-tighter">Rp 0</p>
                        <div class="keteranganKmr text-[10px] font-black py-2 px-4 rounded-xl bg-slate-50 text-slate-400 italic">SYNCING...</div>
                    </div>`;
            }

            db.collection("hargaBBM").doc("periode").onSnapshot((doc) => {
                if (!doc.exists) return;
                const data = doc.data();
                hargaSekarangGlobal = data.sekarang || {};
                for(let i=1; i<=4; i++) {
                    const w = `wilayah${i}`;
                    const now = parseInt(data.sekarang?.[w] || 0);
                    const prev = parseInt(data.kemarin?.[w] || 0);
                    const diff = now - prev;
                    const card = document.getElementById(`cardwilayah${i}`);
                    if (!card) continue;
                    card.querySelector('p').innerText = `Rp ${now.toLocaleString('id-ID')}`;
                    const ket = card.querySelector('.keteranganKmr');
                    if(diff > 0) { ket.innerText = `▲ NAIK RP ${diff.toLocaleString()}`; ket.className = "keteranganKmr text-[10px] font-black py-2 px-4 rounded-xl bg-red-50 text-red-600"; }
                    else if(diff < 0) { ket.innerText = `▼ TURUN RP ${Math.abs(diff).toLocaleString()}`; ket.className = "keteranganKmr text-[10px] font-black py-2 px-4 rounded-xl bg-emerald-50 text-emerald-600"; }
                    else { ket.innerText = "● HARGA STABIL"; ket.className = "keteranganKmr text-[10px] font-black py-2 px-4 rounded-xl bg-slate-50 text-slate-400"; }
                }
            });
        }
        
        // (Fungsi saveHargaBaru, handleLogin, updateUI, uploadFile, loadDocuments, handleLogout sama seperti sebelumnya)
        async function handleLogin() {
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            const btn = document.getElementById('btn-do-login');
            btn.innerText = "AUTHENTICATING...";
            const { data, error } = await _supabase.auth.signInWithPassword({ email, password });
            if (error) { alert("Login Gagal: " + error.message); btn.innerText = "Login Ke Portal"; }
            else { updateUI(data.user); }
        }

        function updateUI(user) {
            if (!user) return;
            document.getElementById('btn-login-view').classList.add('hidden');
            document.getElementById('user-logged-in').classList.remove('hidden');
            showSection('dashboard');
            loadDocuments();
        }

        async function saveHargaBaru() {
            const vals = {
                wilayah1: document.getElementById('input-w1').value,
                wilayah2: document.getElementById('input-w2').value,
                wilayah3: document.getElementById('input-w3').value,
                wilayah4: document.getElementById('input-w4').value
            };
            try {
                await db.collection("hargaBBM").doc("periode").update({ kemarin: hargaSekarangGlobal, sekarang: vals });
                alert("Harga Berhasil Diperbarui!");
                showSection('harga-pertamina');
            } catch (e) { alert("Gagal update harga."); }
        }

        async function loadDocuments() {
            const { data, error } = await _supabase.from('documents').select('*').order('created_at', { ascending: false });
            const tbody = document.getElementById('file-table-body');
            if (error || !data || data.length === 0) {
                tbody.innerHTML = `<tr><td colspan="4" class="px-10 py-10 text-center text-slate-300">Belum ada dokumen.</td></tr>`;
                return;
            }
            tbody.innerHTML = data.map(doc => `
                <tr class="hover:bg-slate-50 transition-colors">
                    <td class="px-10 py-6"><span class="bg-emerald-50 text-emerald-800 px-3 py-1 rounded-lg text-[10px] font-bold">${doc.type}</span></td>
                    <td class="px-10 py-6 text-sm font-bold text-slate-700">${doc.name}</td>
                    <td class="px-10 py-6 text-xs text-slate-400 font-medium">${new Date(doc.created_at).toLocaleDateString('id-ID')}</td>
                    <td class="px-10 py-6 text-center">
                        <a href="${doc.url}" target="_blank" class="bg-[#064e3b] text-white px-5 py-2 rounded-lg text-[10px] font-bold">BUKA</a>
                    </td>
                </tr>`).join('');
        }

        async function handleLogout() { await _supabase.auth.signOut(); window.location.reload(); }
    </script>
</body>
</html>


