<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PT.KHATULISTIWA SINAR ENERGI</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Segoe UI,Arial,sans-serif;}
body{background:#20C997;color:#333;}
header{background:#0b3d2e;color:white;padding:15px 25px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;}
header img{height:50px;}
nav a{color:white;margin-left:18px;text-decoration:none;font-weight:500;cursor:pointer;}
.hero{background:linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.55)),url('assets/hero.jpg');background-size:cover;background-position:center;color:white;text-align:center;padding:90px 20px;}
.hero h1{font-size:40px;margin-bottom:10px;}
.btn{background:#ffc107;padding:12px 25px;border-radius:8px;text-decoration:none;color:black;font-weight:bold;display:inline-block;margin-top:15px;cursor:pointer;}
/* Popup Login */
#loginPopup{
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.5);
  justify-content:center; align-items:center;
  z-index:1000;
}
#loginPopup .login-box{
  background:white;
  padding:25px;
  border-radius:10px;
  width:300px;
  text-align:center;
}
#loginPopup input{
  width:90%;
  padding:10px;
  margin:10px 0;
  border-radius:5px;
  border:1px solid #ccc;
}
#loginPopup button{
  background:#0b3d2e;
  color:white;
  border:none;
  padding:10px 20px;
  border-radius:5px;
  cursor:pointer;
}
#loginPopup button:hover{background:#102c57;}
</style>
</head>
<body>

<header>
<div style="display:flex;align-items:center;gap:12px">
<img src="assets/logo.png" alt="Logo">
<b>PT.KHATULISTIWA SINAR ENERGI - Sinergi Mengalirkan Energi</b>
</div>
<nav>
<a href="#home">Home</a>
<a href="#harga">Harga</a>
<a href="#tentang">Tentang Kami</a>
<a href="#legalitas">Legalitas</a>
<a href="#galeri">Galeri</a>
<a href="#contact">Kontak</a>
<a id="loginBtn" class="btn">üîê Login</a>
</nav>
</header>

<section class="hero" id="home">
<h1>KHATULISTIWA SINAR ENERGI</h1>
<h2>Mitra Penyalur dan Transportir BBM Industri</h2>
<p>Melayani Distribusi BBM Industri wilayah KalSel-Teng-Bar</p>
<a class="btn" href="https://wa.me/628158841410">üìû Contact Me</a>
</section>

<!-- Popup Login -->
<div id="loginPopup">
  <div class="login-box">
    <h3>Login Dashboard</h3>
    <input type="email" id="loginEmail" placeholder="Email"><br>
    <input type="password" id="loginPassword" placeholder="Password"><br>
    <button onclick="login()">Login</button>
    <p style="font-size:12px;color:red;" id="loginError"></p>
    <button onclick="closePopup()" style="margin-top:10px;background:#ccc;color:black;">Batal</button>
  </div>
</div>

<script>
// Inisialisasi Supabase
const supabase = window.supabase.createClient(
  "https://secasrbeamduxqxwlspv.supabase.com",
  "sb_publishable_caJyFg1_Z89oUhtKg5XyoA_DfIgh6br"
);

// Tampilkan popup login
document.getElementById("loginBtn").onclick = () => {
  document.getElementById("loginPopup").style.display = "flex";
};

// Tutup popup
function closePopup(){
  document.getElementById("loginPopup").style.display = "none";
  document.getElementById("loginError").innerText = "";
}

// Login Supabase
async function login(){
  const email = document.getElementById("loginEmail").value;
  const password = document.getElementById("loginPassword").value;

  if(!email || !password){
    document.getElementById("loginError").innerText = "Email dan password wajib diisi!";
    return;
  }

  const { data, error } = await supabase.auth.signInWithPassword({ email, password });

  if(error){
    document.getElementById("loginError").innerText = error.message;
    return;
  }

  // Login sukses ‚Üí redirect ke dashboard
  window.location.href = "dashboard.html";
}
</script>
</body>
</html>



